<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon"
        href="https://raw.githubusercontent.com/AgusTheKing/agustheking.github.io/main/editorhtml/editorcodedaj.png">
    <meta name="description" content="Editor Online html Css and JavaScript FREE">
    <title>Editor HTML Online | DAJ </title>
    <style>
        :root {
            --navleft: rgb(37, 37, 37);
            --navtop: rgb(27, 27, 27);
            --buttonback: rgb(30, 30, 30);
            --letters: rgb(243, 243, 243);
            --background: rgb(48, 48, 48);
        }

        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            background-color: var(--background);
        }

        #top-nav {
            background-color: var(--navtop);
            color: #fff;
            padding: 10px;

            position: relative;
            height: 16px;
            border-bottom: 4px solid;
            border-image: linear-gradient(to right, #5E3481, #00B3B1);
            border-image-slice: 1;
        }

        #top-nav a {
            color: white;
            text-decoration: none;
            font-weight: bold;
            margin-left: 70px;
        }

        #wrapper {
            display: flex;
            height: calc(100vh - 40px);
            /* Calculamos el 100% del viewport menos la altura del nav */
        }

        #navtool {
            background-color: var(--navleft);
            max-width: 200px;
            /* Anchura máxima del navtool */
            padding: 20px;
        }

        #container {
            display: grid;
            grid-template-areas:
                "top-left top-right"
                "bottom-left bottom-right";
            grid-template-columns: 1fr 1fr;
            /* División equitativa en dos columnas */
            grid-template-rows: 1fr 1fr;
            /* División equitativa en dos filas */
            padding: 0;
            /* Eliminar el relleno */
            background-color: var(--background);
            flex: 1;
            /* Ocupa todo el espacio restante */
            border: 4px solid transparent;
            /* Borde transparente */
            border-top: none;
            /* Elimina el borde superior */
            border-image: linear-gradient(108deg, #5E3481 0%, #00B3B1 100%);
            border-image-slice: 1;
        }

        .corner {
            padding: 0;
            /* Eliminar el relleno */
            background-color: #303030;
            border: 1px solid #000;
            margin: 0;
            /* Eliminar los márgenes */

        }

        .corner1 {
            padding: 0;
            /* Eliminar el relleno */
            background-color: #ffffff;
            border: 1px solid #000;
            margin: 0;
            /* Eliminar los márgenes */

        }

        #top-left,
        #top-right,
        #bottom-left,
        #bottom-right {
            padding: 0;
            /* Eliminar el relleno */
            margin: 0;
            /* Eliminar los márgenes */
        }

        #top-left {
            grid-area: top-left;
            position: relative;

        }

        #top-right {
            grid-area: top-right;
            position: relative;
        }

        #bottom-left {
            grid-area: bottom-left;
            position: relative;
        }

        #bottom-right {
            grid-area: bottom-right;
            position: relative;
        }

        /* Estilos para los editores Monaco */
        .monaco-editor {
            width: 100%;
            height: calc(100% - 30px);
            /* Altura del editor menos altura del botón */
        }

        /* Botón Full */
        .full-button {
            position: absolute;
            top: 5px;
            right: 5px;
            z-index: 999;
            /* Asegura que el botón esté encima de todo */
            background-color: transparent;
            color: white;
            border: none;
            cursor: pointer;
        }

        /*nav buttons*/
        #toptools .buttonclear {
            width: 100%;
            height: 5em;
            background-color: #341a44;
            border: 0;
            margin-top: 5%;
            box-shadow: inset 0px -2px 19.6px 0px rgba(0, 0, 0, 0.25);
            color: var(--letters);
            font-display: block;
            border-radius: 10px;
        }

        #toptools .buttonclear:hover {
            width: 100%;
            height: 5em;
            background-color: #321842;
            margin-top: 5%;
            box-shadow: -6px 6px 39.5px 0px rgba(0, 0, 0, 0.25);
            color: var(--letters);
            font-display: block;
            border-radius: 10px;
        }

        #toptools .buttontool {
            width: 100%;
            height: 5em;
            background-color: #1d1d1d;
            border: 0;
            margin-top: 5%;
            box-shadow: inset 0px -2px 19.6px 0px rgba(0, 0, 0, 0.25);
            color: var(--letters);
            font-display: block;
            border-radius: 10px;
        }

        #toptools .buttontool:hover {
            width: 100%;
            height: 5em;
            background-color: #2b2a2a;
            margin-top: 5%;
            box-shadow: -6px 6px 39.5px 0px rgba(0, 0, 0, 0.25);
            color: var(--letters);
            font-display: block;
            border-radius: 10px;
        }

        #toptools .buttonclearall {
            width: 100%;
            height: 5em;
            background-color: #520b2e;
            border: 0;
            margin-top: 5%;
            box-shadow: inset 0px -2px 19.6px 0px rgba(0, 0, 0, 0.25);
            color: var(--letters);
            font-display: block;
            border-radius: 10px;
        }

        #toptools .buttonclearall:hover {
            width: 100%;
            height: 5em;
            background-color: #470a38;
            margin-top: 5%;
            box-shadow: -6px 6px 39.5px 0px rgba(0, 0, 0, 0.25);
            color: var(--letters);
            font-display: block;
            border-radius: 10px;
            border-radius: 10px;
            border: 4px solid rgb(155, 7, 110);

        }

        #toptools select {
            width: 100%;
            height: 5em;
            background-color: #1d1d1d;
            border: 0;
            margin-top: 5%;
            box-shadow: inset 0px -2px 19.6px 0px rgba(0, 0, 0, 0.25);
            color: var(--letters);
            font-display: block;
        }

        #navtool {
            background-color: var(--navleft);
            max-width: 200px;
            /* Anchura máxima del navtool */
            padding: 20px;

        }

        #conf {
            width: 220px;
            height: 20%;
            background-color: #201f1f;
            position: absolute;
            bottom: 20px;
            border-radius: 10px;
            left: 10px;
            box-shadow: inset 0px -2px 19.6px 0px rgba(0, 0, 0, 0.25);
        }

        #conf1 {
            position: relative;
            margin-top: 5px;
        }

        #conf h3 {
            position: absolute;
            top: -52px;
            left: 13%;
            color: var(--letters);
        }

        #conf h4 {
            color: var(--letters);
            margin-left: 10px;
            margin-bottom: 7px;
        }

        #conf button {

            position: absolute;
            bottom: 20px;
            left: 20px;


        }


        .logonav {
            position: absolute;
            left: 10px;
            background: linear-gradient(107.56deg,
                    rgba(56, 5, 107, 1) 0%,
                    rgba(56, 5, 107, 1) 0.009999999747378752%,
                    rgba(134, 215, 213, 1) 100%,
                    rgba(21, 217, 212, 1) 100%,
                    rgba(56, 5, 107, 0) 100%);
            border-radius: 10px;
            width: 60px;
        }

        /* Estilos para el popup */
        #popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.5);
            /* Fondo semi-transparente */
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        /* Estilos adicionales para la pantalla completa */
        .fullscreen #top-left,
        .fullscreen #top-right,
        .fullscreen #bottom-left {
            width: calc(100% - 40px);
            /* Reducir el tamaño del editor cuando está en pantalla completa */
            height: calc(100% - 40px);
            /* Reducir el tamaño del editor cuando está en pantalla completa */
            margin: auto;
            /* Centrar el editor */
        }

        #popup-content {
            background-color: #fff;
            border: 1px solid #000;
            padding: 20px;
            width: 90%;
            /* Ancho del popup */
            height: 90%;
            /* Altura del popup */
            max-width: 90vw;
            /* Ancho máximo del contenido */
            max-height: 90vh;
            /* Altura máxima del contenido */
            overflow: auto;
            /* Agrega scroll si el contenido es demasiado grande */
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
        }


        .popup-close {
            position: absolute;
            top: 10px;
            right: 10px;
            cursor: pointer;
            background-color: #1d1d1d;
            padding: 10px;
            color: white;
            border: none;
            border-radius: 5px;
        }


        /* Estilo para el scroll */
        ::-webkit-scrollbar {
            width: 10px;
            /* Ancho del scroll */
        }

        /* Estilo para el track (fondo) del scroll */
        ::-webkit-scrollbar-track {
            background: #1b1b1b;
            /* Color de la barra */
        }

        /* Estilo para el thumb (barra) del scroll */
        ::-webkit-scrollbar-thumb {
            background: #292929;
            /* Color de la barra */
            border-radius: 5px;
            /* Bordes redondeados */
        }

        /* Estilo para el thumb cuando se hace hover */
        ::-webkit-scrollbar-thumb:hover {
            background: #555;
            /* Color de la barra al hacer hover */
        }

        .language-logo-container {
            width: 30px;
            height: 30px;
            position: absolute;
            bottom: 5px;
            left: 5px;
            z-index: 1;
            pointer-events: none;
        }

        .language-logo {
            width: 100%;
            height: 100%;
        }

        #zoomValue {
            color: var(--letters);
            font-weight: bold;
        }

        #zoom {
            color: var(--letters);
            font-weight: bold;
        }

        #zoomSlider::-webkit-slider-runnable-track {
            background-color: rgb(90, 20, 104);
            /* Cambia el color de la barra a azul */
            border-radius: 20px;
            /* Agrega bordes redondeados */
        }
    </style>
</head>

<body>
    <header id="top-nav">
        <a href="/"><img class="logonav"
                src="https://raw.githubusercontent.com/AgusTheKing/agustheking.github.io/main/editorhtml/editorcodedaj.png"
                alt="Logo de la web" width="60" height="50"></a>
        <a href="/">Home</a> <a href="/tutorials/menututorials.html">Tutorials</a> <a href="../aboutme.html">Aboutme</a>
    </header>
    <div id="wrapper">
        <aside id="navtool">
            <!-- Contenido del div izquierdo ( navtool) -->
            <aside id="toptools">
                <div id="clearButtons">
                    <button class="buttonclear" onclick="confirmClear('html')">
                        <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="16" height="16"
                            viewBox="0,0,255.99609,255.99609">
                            <g fill="#ffffff" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt"
                                stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0"
                                font-family="none" font-weight="none" font-size="none" text-anchor="none"
                                style="mix-blend-mode: normal">
                                <g transform="scale(10.66667,10.66667)">
                                    <path
                                        d="M10.80664,2c-0.517,0 -1.01095,0.20431 -1.37695,0.57031l-0.42969,0.42969h-5c-0.36064,-0.0051 -0.69608,0.18438 -0.87789,0.49587c-0.18181,0.3115 -0.18181,0.69676 0,1.00825c0.18181,0.3115 0.51725,0.50097 0.87789,0.49587h16c0.36064,0.0051 0.69608,-0.18438 0.87789,-0.49587c0.18181,-0.3115 0.18181,-0.69676 0,-1.00825c-0.18181,-0.3115 -0.51725,-0.50097 -0.87789,-0.49587h-5l-0.42969,-0.42969c-0.365,-0.366 -0.85995,-0.57031 -1.37695,-0.57031zM4.36523,7l1.52734,13.26367c0.132,0.99 0.98442,1.73633 1.98242,1.73633h8.24805c0.998,0 1.85138,-0.74514 1.98438,-1.74414l1.52734,-13.25586z">
                                    </path>
                                </g>
                            </g>
                        </svg>
                        Clear HTML
                    </button>

                    <button class="buttonclear" onclick="confirmClear('css')">
                        <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="16" height="16"
                            viewBox="0,0,255.99609,255.99609">
                            <g fill="#ffffff" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt"
                                stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0"
                                font-family="none" font-weight="none" font-size="none" text-anchor="none"
                                style="mix-blend-mode: normal">
                                <g transform="scale(10.66667,10.66667)">
                                    <path
                                        d="M10.80664,2c-0.517,0 -1.01095,0.20431 -1.37695,0.57031l-0.42969,0.42969h-5c-0.36064,-0.0051 -0.69608,0.18438 -0.87789,0.49587c-0.18181,0.3115 -0.18181,0.69676 0,1.00825c0.18181,0.3115 0.51725,0.50097 0.87789,0.49587h16c0.36064,0.0051 0.69608,-0.18438 0.87789,-0.49587c0.18181,-0.3115 0.18181,-0.69676 0,-1.00825c-0.18181,-0.3115 -0.51725,-0.50097 -0.87789,-0.49587h-5l-0.42969,-0.42969c-0.365,-0.366 -0.85995,-0.57031 -1.37695,-0.57031zM4.36523,7l1.52734,13.26367c0.132,0.99 0.98442,1.73633 1.98242,1.73633h8.24805c0.998,0 1.85138,-0.74514 1.98438,-1.74414l1.52734,-13.25586z">
                                    </path>
                                </g>
                            </g>
                        </svg>
                        Clear CSS
                    </button>

                    <button class="buttonclear" onclick="confirmClear('js')">
                        <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="16" height="16"
                            viewBox="0,0,255.99609,255.99609">
                            <g fill="#ffffff" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt"
                                stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0"
                                font-family="none" font-weight="none" font-size="none" text-anchor="none"
                                style="mix-blend-mode: normal">
                                <g transform="scale(10.66667,10.66667)">
                                    <path
                                        d="M10.80664,2c-0.517,0 -1.01095,0.20431 -1.37695,0.57031l-0.42969,0.42969h-5c-0.36064,-0.0051 -0.69608,0.18438 -0.87789,0.49587c-0.18181,0.3115 -0.18181,0.69676 0,1.00825c0.18181,0.3115 0.51725,0.50097 0.87789,0.49587h16c0.36064,0.0051 0.69608,-0.18438 0.87789,-0.49587c0.18181,-0.3115 0.18181,-0.69676 0,-1.00825c-0.18181,-0.3115 -0.51725,-0.50097 -0.87789,-0.49587h-5l-0.42969,-0.42969c-0.365,-0.366 -0.85995,-0.57031 -1.37695,-0.57031zM4.36523,7l1.52734,13.26367c0.132,0.99 0.98442,1.73633 1.98242,1.73633h8.24805c0.998,0 1.85138,-0.74514 1.98438,-1.74414l1.52734,-13.25586z">
                                    </path>
                                </g>
                            </g>
                        </svg>
                        Clear JavaScript
                    </button>

                    <button class="buttonclearall" onclick="confirmClear('all')">
                        <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="16" height="16"
                            viewBox="0,0,255.99609,255.99609">
                            <g fill="#ffffff" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt"
                                stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0"
                                font-family="none" font-weight="none" font-size="none" text-anchor="none"
                                style="mix-blend-mode: normal">
                                <g transform="scale(10.66667,10.66667)">
                                    <path
                                        d="M10.80664,2c-0.517,0 -1.01095,0.20431 -1.37695,0.57031l-0.42969,0.42969h-5c-0.36064,-0.0051 -0.69608,0.18438 -0.87789,0.49587c-0.18181,0.3115 -0.18181,0.69676 0,1.00825c0.18181,0.3115 0.51725,0.50097 0.87789,0.49587h16c0.36064,0.0051 0.69608,-0.18438 0.87789,-0.49587c0.18181,-0.3115 0.18181,-0.69676 0,-1.00825c-0.18181,-0.3115 -0.51725,-0.50097 -0.87789,-0.49587h-5l-0.42969,-0.42969c-0.365,-0.366 -0.85995,-0.57031 -1.37695,-0.57031zM4.36523,7l1.52734,13.26367c0.132,0.99 0.98442,1.73633 1.98242,1.73633h8.24805c0.998,0 1.85138,-0.74514 1.98438,-1.74414l1.52734,-13.25586z">
                                    </path>
                                </g>
                            </g>
                        </svg>
                        Clear All
                    </button>





                </div>
                <select id="formatSelect" class="buttontool" onchange="formatCode(this.value)">
                    <option value="" disabled selected>Format Code</option>
                    <option value="html">HTML</option>
                    <option value="css">CSS</option>
                    <option value="js">JavaScript</option>
                </select>
                <!-- Botón de descarga para el archivo HTML -->
                <button id="downloadHTMLButton" class="buttontool" class="downloadButton">Descargar HTML</button>

                <!-- Botón de descarga para el archivo CSS -->
                <button id="downloadCSSButton" class="buttontool" class="downloadButton">Descargar CSS</button>

                <!-- Botón de descarga para el archivo JavaScript -->
                <button id="downloadJSButton" class="buttontool" class="downloadButton">Descargar JavaScript</button>


            </aside>

            <aside id="conf">
                <aside id="conf1">
                    <h3>⚙️Configuration</h3>
                    <h4>Zoom Code preview</h4>
                    <span id="zoom">zoom</span><input type="range" id="zoomSlider" min="0.1" max="3" step="0.1"
                        value="1" oninput="updateZoom()"><span id="zoomValue">100%</span>
                    <h4>Dark / light Mode</h4>
                    <input type="checkbox" id="preference1" name="preference1" checked>
                    <label style="color: var(--letters);" for="preference1">vs-dark</label><br>
                    <h4>Map Mode</h4>
                    <input type="checkbox" id="preference2" name="mapPreference" checked>
                    <label style="color: var(--letters);" for="preference2">vs</label><br>

                </aside>
            </aside>

        </aside>
        <main id="container">
            <!-- Contenido del div derecho ( container) -->
            <section id="top-left" class="corner">
                <!-- Botón Full para HTML Editor -->
                <button class="full-button"
                    onclick="toggleFullScreen(document.getElementById('top-left'))">Full</button>
                <!-- Imagen SVG para HTML -->
                <div class="language-logo-container">
                    <svg class="language-logo" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="30" height="30"
                        viewBox="0 0 48 48">
                        <path fill="#E65100" d="M41,5H7l3,34l14,4l14-4L41,5L41,5z"></path>
                        <path fill="#FF6D00" d="M24 8L24 39.9 35.2 36.7 37.7 8z"></path>
                        <path fill="#FFF"
                            d="M24,25v-4h8.6l-0.7,11.5L24,35.1v-4.2l4.1-1.4l0.3-4.5H24z M32.9,17l0.3-4H24v4H32.9z">
                        </path>
                        <path fill="#EEE"
                            d="M24,30.9v4.2l-7.9-2.6L15.7,27h4l0.2,2.5L24,30.9z M19.1,17H24v-4h-9.1l0.7,12H24v-4h-4.6L19.1,17z">
                        </path>
                    </svg>
                </div>
            </section>
            <section id="top-right" class="corner">
                <!-- Botón Full para CSS Editor -->
                <button class="full-button"
                    onclick="toggleFullScreen(document.getElementById('top-right'))">Full</button>
                <!-- Imagen SVG para CSS -->
                <div class="language-logo-container">
                    <svg class="language-logo" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="30" height="30"
                        viewBox="0 0 48 48">
                        <path fill="#0277BD" d="M41,5H7l3,34l14,4l14-4L41,5L41,5z"></path>
                        <path fill="#039BE5" d="M24 8L24 39.9 35.2 36.7 37.7 8z"></path>
                        <path fill="#FFF"
                            d="M33.1 13L24 13 24 17 28.9 17 28.6 21 24 21 24 25 28.4 25 28.1 29.5 24 30.9 24 35.1 31.9 32.5 32.6 21 32.6 21z">
                        </path>
                        <path fill="#EEE"
                            d="M24,13v4h-8.9l-0.3-4H24z M19.4,21l0.2,4H24v-4H19.4z M19.8,27h-4l0.3,5.5l7.9,2.6v-4.2l-4.1-1.4L19.8,27z">
                        </path>
                    </svg>
                </div>
            </section>
            <section id="bottom-left" class="corner">
                <!-- Botón Full para JavaScript Editor -->
                <button class="full-button"
                    onclick="toggleFullScreen(document.getElementById('bottom-left'))">Full</button>
                <!-- Imagen SVG para JavaScript -->
                <div class="language-logo-container">
                    <svg class="language-logo" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="30" height="30"
                        viewBox="0 0 48 48">
                        <path fill="#ffd600" d="M6,42V6h36v36H6z"></path>
                        <path fill="#000001"
                            d="M29.538 32.947c.692 1.124 1.444 2.201 3.037 2.201 1.338 0 2.04-.665 2.04-1.585 0-1.101-.726-1.492-2.198-2.133l-.807-.344c-2.329-.988-3.878-2.226-3.878-4.841 0-2.41 1.845-4.244 4.728-4.244 2.053 0 3.528.711 4.592 2.573l-2.514 1.607c-.553-.988-1.151-1.377-2.078-1.377-.946 0-1.545.597-1.545 1.377 0 .964.6 1.354 1.985 1.951l.807.344C36.452 29.645 38 30.839 38 33.523 38 36.415 35.716 38 32.65 38c-2.999 0-4.702-1.505-5.65-3.368L29.538 32.947zM17.952 33.029c.506.906 1.275 1.603 2.381 1.603 1.058 0 1.667-.418 1.667-2.043V22h3.333v11.101c0 3.367-1.953 4.899-4.805 4.899-2.577 0-4.437-1.746-5.195-3.368L17.952 33.029z">
                        </path>
                    </svg>
                </div>
            </section>
            <section id="bottom-right" class="corner1"><iframe id="renderFrame"
                    style="width: 100%; height: 100%; border: none;"></iframe></section>
        </main>
    </div>

    <!-- Load Monaco Editor -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/monaco-editor@0.47.0/min/vs/loader.js"></script>
    <script>
        require.config({
            paths: {
                'vs': 'https://cdn.jsdelivr.net/npm/monaco-editor@0.47.0/min/vs'
            }
        });

        require(['vs/editor/editor.main'], function () {
            // Función para obtener el contenido de un editor desde el almacenamiento local
            function getEditorContent(editorId) {
                return localStorage.getItem(editorId) || '';
            }

            var htmlEditor = monaco.editor.create(document.getElementById('top-left'), {
                value: getEditorContent('htmlContent'),
                language: 'html',
                theme: currentTheme, // Usar la variable currentTheme
                minimap: { enabled: false }
            });

            var cssEditor = monaco.editor.create(document.getElementById('top-right'), {
                value: getEditorContent('cssContent'),
                language: 'css',
                theme: currentTheme, // Usar la variable currentTheme
                minimap: { enabled: false }
            });

            var jsEditor = monaco.editor.create(document.getElementById('bottom-left'), {
                value: getEditorContent('jsContent'),
                language: 'javascript',
                theme: currentTheme, // Usar la variable currentTheme
                minimap: { enabled: false }
            });

            // Función para actualizar el contenido del editor y guardarlo en el almacenamiento local
            function updateEditorContent(editor, editorId) {
                return function () {
                    localStorage.setItem(editorId, editor.getValue());
                };
            }

            // Agregar eventos input a los editores
            htmlEditor.onDidChangeModelContent(updateEditorContent(htmlEditor, 'htmlContent'));
            cssEditor.onDidChangeModelContent(updateEditorContent(cssEditor, 'cssContent'));
            jsEditor.onDidChangeModelContent(updateEditorContent(jsEditor, 'jsContent'));

            // Función para actualizar el render en el iframe
            function updateRender() {
                var htmlCode = htmlEditor.getValue();
                var cssCode = '<style>' + cssEditor.getValue() + '</style>';
                var jsCode = '<script>' + jsEditor.getValue() + '</scr' + 'ipt>'; // Evitar error de "Unterminated string literal"
                var renderCode = htmlCode + cssCode + jsCode;
                var iframe = document.getElementById('renderFrame');
                var iframeDocument = iframe.contentDocument || iframe.contentWindow.document;
                iframeDocument.body.innerHTML = renderCode;
            }

            // Agregar eventos input a los editores
            htmlEditor.onDidChangeModelContent(updateRender);
            cssEditor.onDidChangeModelContent(updateRender);
            jsEditor.onDidChangeModelContent(updateRender);

            // Inicializar el render
            updateRender();
        });

        // Controlador de evento de redimensionamiento de ventana
        window.addEventListener('resize', function () {
            // Forzar una nueva renderización de la página
            setTimeout(function () {
                window.location.reload();
            }, 50);
        });

        function toggleFullScreen(section) {
            var popupOverlay = document.getElementById('popup-overlay');
            var popupContent = document.getElementById('popup-content');
            var fullButton = section.querySelector('.full-button');

            if (!popupOverlay.style.display || popupOverlay.style.display === 'none') {
                // Entrar en modo fullscreen
                section.classList.add('fullscreen');
                popupContent.innerHTML = ''; // Limpiar el contenido del popup
                popupOverlay.style.display = 'flex';
                fullButton.innerText = 'Close'; // Cambiar el texto del botón a "Close"
                fullButton.classList.add('popup-close'); // Agrega la clase de estilo para el botón de cerrar
                section.style.zIndex = '1001'; // por encima del popup

                // Colocar los editores dentro del popup
                popupContent.appendChild(htmlEditor.getDomNode());
                popupContent.appendChild(cssEditor.getDomNode());
                popupContent.appendChild(jsEditor.getDomNode());

                // Ajustar el tamaño del editor al tamaño del popup
                setTimeout(function () {
                    htmlEditor.layout();
                    cssEditor.layout();
                    jsEditor.layout();

                    // Ajustar el tamaño del contenedor del popup según el tamaño del editor más grande
                    var maxWidth = Math.max(htmlEditor.getDomNode().offsetWidth, cssEditor.getDomNode().offsetWidth, jsEditor.getDomNode().offsetWidth);
                    var maxHeight = Math.max(htmlEditor.getDomNode().offsetHeight, cssEditor.getDomNode().offsetHeight, jsEditor.getDomNode().offsetHeight);
                    popupContent.style.width = maxWidth + 'px';
                    popupContent.style.height = maxHeight + 'px';
                }, 100); // Ajusta el tiempo de espera según sea necesario
            } else {
                // Salir del modo fullscreen
                section.classList.remove('fullscreen');
                popupOverlay.style.display = 'none';
                fullButton.innerText = 'Full'; // Cambiar el texto del botón a "Full"
                fullButton.classList.remove('popup-close'); // Eliminar la clase de estilo para el botón de cerrar

                // Restaurar la estructura de grid
                document.getElementById('container').style.display = 'grid';

                // Quitar los editores del popup y volver a colocarlos en su lugar original
                document.getElementById('top-left').appendChild(htmlEditor.getDomNode());
                document.getElementById('top-right').appendChild(cssEditor.getDomNode());
                document.getElementById('bottom-left').appendChild(jsEditor.getDomNode());
            }
        }

        function confirmClear(editorType) {
            if (editorType === '') return; // Si no se selecciona ninguna opción, no hacer nada

            // Mensaje de confirmación predeterminado
            var confirmationMessage = "Are you sure you want to do this? This cannot be undone.";

            // Determinar el mensaje de confirmación específico según el tipo de editor
            switch (editorType) {
                case 'html':
                    confirmationMessage = "Are you sure you want to clear the HTML content? This cannot be undone.";
                    break;
                case 'css':
                    confirmationMessage = "Are you sure you want to clear the CSS content? This cannot be undone.";
                    break;
                case 'js':
                    confirmationMessage = "Are you sure you want to clear the JavaScript content? This cannot be undone.";
                    break;
                case 'all':
                    confirmationMessage = "Are you sure you want to clear all content from HTML, CSS, and JavaScript editors? This cannot be undone.";
                    break;
                default:
                    break;
            }

            // Se muestra un cuadro de confirmación con el mensaje correspondiente
            var confirmDelete = window.confirm(confirmationMessage);

            // Si el usuario confirma la acción, se borra el contenido del editor o de todos los editores
            if (confirmDelete) {
                // Se obtiene el editor o los editores y se limpia su contenido según el tipo seleccionado
                switch (editorType) {
                    case 'html':
                        var htmlEditor = monaco.editor.getEditors()[0];
                        if (htmlEditor) {
                            htmlEditor.setValue('');
                        }
                        break;
                    case 'css':
                        var cssEditor = monaco.editor.getEditors()[1];
                        if (cssEditor) {
                            cssEditor.setValue('');
                        }
                        break;
                    case 'js':
                        var jsEditor = monaco.editor.getEditors()[2];
                        if (jsEditor) {
                            jsEditor.setValue('');
                        }
                        break;
                    case 'all':
                        monaco.editor.getModels().forEach(function (model) {
                            model.setValue('');
                        });
                        break;
                    default:
                        break;
                }
            }
        }

        // SAVE AUTOMATICO almacenamiento local
      // Zoom de IFRAME
      function updateZoom() {
            var slider = document.getElementById('zoomSlider');
            var sliderValue = parseFloat(slider.value);
            var zoomValue = document.getElementById('zoomValue');
            var zoomPercentage = Math.round(sliderValue * 100); // Redondear a tres dígitos enteros
            zoomValue.textContent = zoomPercentage + '%';
            zoomValue.style.fontWeight = 'bold'; // Aplicar negrita al texto

            var iframe = document.getElementById('renderFrame');
            var iframeDocument = iframe.contentDocument || iframe.contentWindow.document;
            iframeDocument.body.style.zoom = sliderValue;
        }


        // THEME
        // Definir una variable para almacenar el tema actual
        var currentTheme = 'vs-dark';

        // Obtener referencia al checkbox
        var darkModeCheckbox = document.getElementById('preference1');

        // Agregar un listener para detectar cambios en el estado del checkbox de modo oscuro
        darkModeCheckbox.addEventListener('change', function () {
            // Obtener el estado actual del checkbox de modo oscuro
            var isDarkModeChecked = darkModeCheckbox.checked;

            // Cambiar el tema del editor según el estado del checkbox de modo oscuro
            if (isDarkModeChecked) {
                // Cambiar a tema oscuro
                currentTheme = 'vs-dark';
            } else {
                // Cambiar a tema claro
                currentTheme = 'vs';
            }

            // Aplicar el tema actual a los editores de Monaco
            htmlEditor.updateOptions({ theme: currentTheme });
            cssEditor.updateOptions({ theme: currentTheme });
            jsEditor.updateOptions({ theme: currentTheme });
        });

        // Inicialmente, aplicar el tema oscuro por defecto al cargar la página
        htmlEditor.updateOptions({ theme: currentTheme });
        cssEditor.updateOptions({ theme: currentTheme });
        jsEditor.updateOptions({ theme: currentTheme });


        // Download
// Descargar archivo HTML
// Descargar archivo HTML
document.getElementById('downloadHTMLButton').addEventListener('click', function() {
    var htmlContent = htmlEditor.getValue();
    downloadFile(htmlContent, 'index.html', 'text/html');
});

// Descargar archivo CSS
document.getElementById('downloadCSSButton').addEventListener('click', function() {
    var cssContent = cssEditor.getValue();
    downloadFile(cssContent, 'style.css', 'text/css');
});

// Descargar archivo JavaScript
document.getElementById('downloadJSButton').addEventListener('click', function() {
    var jsContent = jsEditor.getValue();
    downloadFile(jsContent, 'script.js', 'application/javascript');
});

// Función para descargar un archivo con el contenido especificado
function downloadFile(content, filename, contentType) {
    // Crear un objeto Blob con el contenido
    var blob = new Blob([content], { type: contentType });

    // Crear un enlace temporal para el archivo
    var url = URL.createObjectURL(blob);

    // Crear un enlace invisible
    var link = document.createElement('a');
    link.href = url;
    link.download = filename;

    // Simular un clic en el enlace para iniciar la descarga
    document.body.appendChild(link);
    link.click();

    // Limpiar después de la descarga
    setTimeout(function() {
        document.body.removeChild(link);
        URL.revokeObjectURL(url);
    }, 0);
}


    </script>

    <!-- Popup Overlay -->
    <div id="popup-overlay">
        <!-- Popup Content -->
        <div id="popup-content">
            <!-- Close Button -->
            <button class="popup-close" onclick="toggleConfigPopup()">Close</button>
        </div>
    </div>
</body>

</html>